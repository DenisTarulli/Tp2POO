using System.Collections;
using UnityEngine;

public class InvulnerabilityPowerUp : PowerUps
{
    protected override void PowerUpEffect()
    {
        DisableCollection();
        StartCoroutine(InvulnerabilityTime());
    }


    private void OnTriggerEnter2D(Collider2D collision)
    {
        if (!collision.gameObject.CompareTag("Player")) return;

        Collect();
    }

    private IEnumerator InvulnerabilityTime()
    {
        PlayerCombat player = FindObjectOfType<PlayerCombat>();

        player.CanTakeDamage = false;

        yield return new WaitForSeconds(duration);

        player.CanTakeDamage = true;

        Destroy(gameObject);
    }    
}
